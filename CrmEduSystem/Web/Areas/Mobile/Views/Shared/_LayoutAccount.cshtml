<!DOCTYPE html>
<html>
<head>
    @Html.Partial("_Header")
</head>
<body class="gray-box">
    <div class="main">
        @RenderBody()
    </div>
    @Html.Partial("_Footer")
    <script>
        var readyFunc = function onBridgeReady() {
            // 关闭当前webview窗口 - closeWindow
            document.querySelector('#closeWindow').addEventListener('click', function (e) {
                WeixinJSBridge.invoke('closeWindow', {

                }, function (res) {

                    //alert(res.err_msg);

                });
            });
        }
        if (typeof WeixinJSBridge === "undefined") {
            document.addEventListener('WeixinJSBridgeReady', readyFunc, false);
        } else {
            readyFunc();
        }

        function onBridgeReady() {
            WeixinJSBridge.call('hideOptionMenu');
        }

        if (typeof WeixinJSBridge == "undefined") {
            if (document.addEventListener) {
                document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
            } else if (document.attachEvent) {
                document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
                document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
            }
        } else {
            onBridgeReady();
        }
    </script>
</body>
</html>
